<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Lesson 2 Homework</title>
  </head>
  <body>
    <script>
      // Exercise 0
      const guessNumber = () => {
        while (true) {
          const number = generateRndIntFromInterval(1000, 9999);
          let userAnswer;
          let attemptsCounter = 0;
          alert('Random number between 1000 and 9999 has been chosen. Guess it!');

          while (userAnswer != number) {
            attemptsCounter++;
            userAnswer = prompt(`This is try number ${attemptsCounter}. Enter a number between 1000 and 9999. To quit the game press Cancel`);

            if (userAnswer == null) {
              alert('You chose to quit the game. Goodbye!');
              return;
            } else if (isNaN(userAnswer) || userAnswer == '' || isOnlyWhitespace(userAnswer)) {
              alert('Please enter a number');
            } else if (userAnswer > number) {
              alert(`Your guess ${userAnswer} is too high. Guess again.`);
            } else if (userAnswer < number) {
              alert(`Your guess ${userAnswer} is too low. Guess again.`);
            }
          }

          alert(`You guessed ${userAnswer}. Correct! It took you ${attemptsCounter} tries.`);
          const toQuit = prompt('To quit the game enter q');
          if (toQuit == 'q') {
            break;
          }
          alert('New round!');
        }
      }

      const generateRndIntFromInterval = (min, max) => {
        return Math.floor(Math.random() * (max - min +1) + min);
      }

      const isOnlyWhitespace = (str) => {
        pattern = /^\s+$/;
        return pattern.test(str);
      }

      guessNumber();

      // Exercise 1
      var a = 1, b = 1, c, d;
      c = ++a; console.log(c); // Использована префиксная запись, сначала происходит инкрементация, а потом возврат значения. Результат alert - 2.
      d = b++; console.log(d); // Использована постфиксная запись, сначала происходит возврат значения, а потом инкрементация. Результат alert - 1.
      c = (2+ ++a); console.log(c); // Использована префиксная запись, сначала происходит инкрементация, а потом бинарное сложение. Результат alert - 5.
      d = (2+ b++); console.log(d); // Использована постфиксная запись, сначала происходит бинарное сложение, а потом инкрементация. Результат alert - 4.
      console.log(a); // a была инкрементирована 2 раза от начального значения в 1. Результат alert - 3.
      console.log(b); // b была инкрементирована 2 раза от начального значения в 1. Результат alert - 3.

      // Exercise 2
      var a = 2;
      var x = 1 + (a *= 2);
      console.log(x);
      // Результат операции равен 5. Оператор присваивания с операцией имеет более низкий приоритет, чем сложение, но скобки имеют наивысший приоритет.
      // Поэтому сначала выполняется умножение, а потом сложение.
    </script>
  </body>
</html>
