<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Lesson 2 Homework</title>
  </head>
  <body>
    <script>
      // Exercise 0
      const guessNumber = () => {
        while (true) {
          const number = generateRndIntFromInterval(1000, 9999);
          let userAnswer;
          let attemptsCounter = 0;
          alert('Random number between 1000 and 9999 has been chosen. Guess it!');

          while (userAnswer != number) {
            attemptsCounter++;
            userAnswer = prompt(`This is try number ${attemptsCounter}. Enter a number between 1000 and 9999. To quit the game press Cancel`);

            if (userAnswer == null) {
              alert('You chose to quit the game. Goodbye!');
              return;
            } else if (isNaN(userAnswer) || userAnswer == '' || isOnlyWhitespace(userAnswer)) {
              alert('Please enter a number');
            } else if (userAnswer > number) {
              alert(`Your guess ${userAnswer} is too high. Guess again.`);
            } else if (userAnswer < number) {
              alert(`Your guess ${userAnswer} is too low. Guess again.`);
            }
          }

          alert(`You guessed ${userAnswer}. Correct! It took you ${attemptsCounter} tries.`);
          const toQuit = prompt('To quit the game enter q');
          if (toQuit == 'q') {
            break;
          }
          alert('New round!');
        }
      }

      const generateRndIntFromInterval = (min, max) => {
        return Math.floor(Math.random() * (max - min + 1) + min);
      }

      const isOnlyWhitespace = (str) => {
        pattern = /^\s+$/;
        return pattern.test(str);
      }

      guessNumber();

      // Exercise 1
      console.log('Exercise 1');
      var a = 1, b = 1, c, d;
      c = ++a; console.log(c); // Использована префиксная запись, сначала происходит инкрементация, а потом возврат значения. Результат alert - 2.
      d = b++; console.log(d); // Использована постфиксная запись, сначала происходит возврат значения, а потом инкрементация. Результат alert - 1.
      c = (2+ ++a); console.log(c); // Использована префиксная запись, сначала происходит инкрементация, а потом бинарное сложение. Результат alert - 5.
      d = (2+ b++); console.log(d); // Использована постфиксная запись, сначала происходит бинарное сложение, а потом инкрементация. Результат alert - 4.
      console.log(a); // a была инкрементирована 2 раза от начального значения в 1. Результат alert - 3.
      console.log(b); // b была инкрементирована 2 раза от начального значения в 1. Результат alert - 3.

      // Exercise 2
      console.log('Exercise 2');
      var a = 2;
      var x = 1 + (a *= 2);
      console.log(x);
      // Результат операции равен 5. Оператор присваивания с операцией имеет более низкий приоритет, чем сложение, но скобки имеют наивысший приоритет.
      // Поэтому сначала выполняется умножение, а потом сложение.

      // Exercise 3
      const calculateDependingOnSigns = () => {
      console.log('Exercise 3');
        const a = generateRndIntFromInterval(-10, 10);
        const b = generateRndIntFromInterval(-10, 10);

        if (a >= 0 && b >= 0) {
          console.log(`a = ${a}, b = ${b}. Their difference = ${a - b}`);
        } else if (a < 0 && b < 0) {
          console.log(`a = ${a}, b = ${b}. Their product = ${a * b}`);
        } else {
          console.log(`a = ${a}, b = ${b}. Their sum = ${a + b}`);
        }
      }

      calculateDependingOnSigns();

      // Exercise 4 (version 1)
      const displayFromXTo15 = () => {
        console.log('Exercise 4 (version 1)');
        let a = generateRndIntFromInterval(0, 15);
        console.log(`a = ${a}`);
        switch (a) {
          case 0:
            console.log(a);
            a++;
          case 1:
            console.log(a);
            a++;
          case 2:
            console.log(a);
            a++;
          case 3:
            console.log(a);
            a++;
          case 4:
            console.log(a);
            a++;
          case 5:
            console.log(a);
            a++;
          case 6:
            console.log(a);
            a++;
          case 7:
            console.log(a);
            a++;
          case 8:
            console.log(a);
            a++;
          case 9:
            console.log(a);
            a++;
          case 10:
            console.log(a);
            a++;
          case 11:
            console.log(a);
            a++;
          case 12:
            console.log(a);
            a++;
          case 13:
            console.log(a);
            a++;
          case 14:
            console.log(a);
            a++;
          case 15:
            console.log(a);
        }
      }

      displayFromXTo15();

      // Exercise 4 (version 2)
      const displayFromXTo15v2 = () => {
        console.log('Exercise 4 (version 2)');
        let a = generateRndIntFromInterval(0, 15);
        console.log(`a = ${a}`);
        for (a; a <= 15; a++) {
          console.log(a);
        }
      }

      displayFromXTo15v2();

      // Exercise 5
      const addTwoNumbers = (a, b) => {
        return a + b;
      }
      const subtractTwoNumbers = (a, b) => {
        return a - b;
      }
      const multiplyTwoNumbers = (a, b) => {
        return a * b;
      }
      const divideTwoNumbers = (a, b) => {
        return a / b;
      }

      // Exercise 6
      function mathOperation(arg1, arg2, operation) {
        switch (operation) {
          case 'add':
            return addTwoNumbers(arg1, arg2);
          case 'sub':
            return subtractTwoNumbers(arg1, arg2);
          case 'mul':
            return multiplyTwoNumbers(arg1, arg2);
          case 'div':
            return divideTwoNumbers(arg1, arg2);
        }
      }

      console.log('Exercise 6');
      console.log(mathOperation(10, 5, 'add'));
      console.log(mathOperation(10, 5, 'sub'));
      console.log(mathOperation(10, 5, 'mul'));
      console.log(mathOperation(10, 5, 'div'));
    </script>
  </body>
</html>
